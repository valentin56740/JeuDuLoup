[gd_scene load_steps=13 format=3 uid="uid://bj0u4vx4x760b"]

[ext_resource type="Script" uid="uid://cijwc3ab8led5" path="res://env.gd" id="1_gq42c"]
[ext_resource type="PackedScene" uid="uid://o7ise5esa53q" path="res://loup.tscn" id="1_ifhar"]
[ext_resource type="Material" uid="uid://nqkbucpa5tpg" path="res://SkyShader/SkyShader.tres" id="1_nhbfn"]
[ext_resource type="PackedScene" uid="uid://dvm0dcqgkax01" path="res://mouton.tscn" id="2_c3k1h"]
[ext_resource type="PackedScene" uid="uid://duvtma7eaalbn" path="res://Models/Valley Terrain.glb" id="5_gq42c"]
[ext_resource type="PackedScene" uid="uid://bivnf4lat8byi" path="res://Sun.glb" id="6_nedsq"]
[ext_resource type="Script" uid="uid://t4x3oawf7ucn" path="res://menu.gd" id="7_kkdj2"]

[sub_resource type="BoxShape3D" id="BoxShape3D_nhbfn"]
size = Vector3(100, 1, 100)

[sub_resource type="Sky" id="Sky_ddwgs"]
sky_material = ExtResource("1_nhbfn")

[sub_resource type="Environment" id="Environment_nhbfn"]
background_mode = 2
sky = SubResource("Sky_ddwgs")
ambient_light_source = 3
ambient_light_color = Color(0.6452129, 0.7626123, 1, 1)
reflected_light_source = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_gq42c"]
size = Vector3(500, 100, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_nedsq"]
size = Vector3(260.59854, 1.9404297, 181.73132)

[node name="env" type="Node3D" node_paths=PackedStringArray("spawn_area", "cameras")]
script = ExtResource("1_gq42c")
spawn_area = NodePath("Area3D/SpawnZone")
cameras = [NodePath("Camera3D"), NodePath("Camera3D2"), NodePath("Camera3D3"), NodePath("Loup/Camera3D")]

[node name="Arene" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Arene"]
shape = SubResource("BoxShape3D_nhbfn")

[node name="Mouton" parent="." groups=["Mouton"] instance=ExtResource("2_c3k1h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -153.22192, 5, 1.5099483)

[node name="Mouton3" parent="." groups=["Mouton"] instance=ExtResource("2_c3k1h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -145.49551, 5, 1.5099483)

[node name="Mouton4" parent="." groups=["Mouton"] instance=ExtResource("2_c3k1h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -145.33308, 5, 8.091673)

[node name="Mouton2" parent="." groups=["Mouton"] instance=ExtResource("2_c3k1h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -153.22192, 5, 8.960709)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_nhbfn")

[node name="Loup" parent="." groups=["Loup"] instance=ExtResource("1_ifhar")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -148.968, 5, -10.534)

[node name="Camera3D" type="Camera3D" parent="Loup"]
transform = Transform3D(-0.99691737, 0.04017439, -0.06739317, 0, 0.8589599, 0.5120429, 0.07845904, 0.51046443, -0.85631204, -0.45062256, 4.1859226, -5.1920147)

[node name="Sun" parent="." instance=ExtResource("6_nedsq")]
transform = Transform3D(2.588191, -5.745548, -7.764662, 5.9604645e-07, 8.038569, -5.9482293, 9.659259, 1.539515, 2.0805354, 29.341099, 108.237976, -138.1644)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Sun"]
transform = Transform3D(-0.08745982, -0.04664139, -0.013242338, -0.04518397, 0.08831183, -0.012626467, 0.017583717, -0.0050596697, -0.0983118, -0.08820915, 0.5968456, 1.1861525)
light_energy = 2.057
light_indirect_energy = 2.358
light_volumetric_fog_energy = 3.406
light_angular_distance = 9.34
light_specular = 1.302
shadow_enabled = true
directional_shadow_split_1 = 0.092
directional_shadow_max_distance = 139.5

[node name="Camera3D3" type="Camera3D" parent="."]
transform = Transform3D(0.9999985, 0.0017453284, -3.096367e-12, 0.0002549629, -0.14608285, 0.98927236, 0.0017266051, -0.98927087, -0.14608307, -135.01968, 135.27875, 20.185165)
fov = 58.8
near = 0.324

[node name="Camera3D2" type="Camera3D" parent="."]
transform = Transform3D(0.017452383, 0.50294334, -0.8641432, 0, 0.8642748, 0.5030199, 0.9998477, -0.008778897, 0.015083655, -217.29948, 31.442406, 3.939619)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.02443221, -0.4050207, 0.913981, 0, 0.91425407, 0.4051416, -0.9997015, -0.009898505, 0.022337245, -11.29887, 17.26424, 11.594284)

[node name="Valley Terrain" parent="." instance=ExtResource("5_gq42c")]
transform = Transform3D(0.1689558, 0, -1.9928507, 0, 1, 0, 1.9928507, 0, 0.1689558, 0, 0, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(0.0844779, 0, -0.99642533, 0, 1, 0, 0.99642533, 0, 0.0844779, -51.861256, -4.125, -34.064)

[node name="CollisionShape3D3" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1.0000167, 0, 0, 0, 1, 0, 0, 0, 1.0000167, 38.70487, 14.886801, 236.28876)
shape = SubResource("BoxShape3D_gq42c")
debug_color = Color(4.6626754, 0, 1.1905082, 1)

[node name="CollisionShape3D6" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1.0000167, 0, 2.2351742e-08, 0, 1, 0, -2.2351742e-08, 0, 1.0000167, 62.17045, 14.886801, -40.489967)
shape = SubResource("BoxShape3D_gq42c")
debug_color = Color(4.6626754, 0, 1.1905082, 1)

[node name="CollisionShape3D4" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(-3.7252903e-08, 0, -1.0000168, 0, 1, 0, 1.0000168, 0, -3.7252903e-08, -51.32866, 14.886801, 89.543915)
shape = SubResource("BoxShape3D_gq42c")
debug_color = Color(4.6626754, 0, 1.1905082, 1)

[node name="CollisionShape3D5" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(-1.4901161e-08, 0, -1.0000168, 0, 1, 0, 1.0000168, 0, -1.4901161e-08, 168.79692, 14.886801, 108.20636)
shape = SubResource("BoxShape3D_gq42c")
debug_color = Color(4.6626754, 0, 1.1905082, 1)

[node name="Button" type="Button" parent="."]
offset_right = 81.0
offset_bottom = 47.0

[node name="Label" type="Label" parent="Button"]
layout_mode = 0
offset_left = 8.0
offset_top = 11.0
offset_right = 84.0
offset_bottom = 48.0
text = "Camera"

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -148.75212, 32.042103, 44.363846)

[node name="SpawnZone" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -25.989212, -7.590744)
shape = SubResource("BoxShape3D_nedsq")

[node name="MenuPrincipal" type="Node" parent="."]
process_mode = 3
script = ExtResource("7_kkdj2")

[node name="CanvasLayer" type="CanvasLayer" parent="MenuPrincipal"]

[node name="VBoxContainer" type="VBoxContainer" parent="MenuPrincipal/CanvasLayer"]
offset_left = 514.0
offset_top = 248.0
offset_right = 792.0
offset_bottom = 376.0

[node name="Label" type="Label" parent="MenuPrincipal/CanvasLayer/VBoxContainer"]
layout_mode = 2
text = "Jeu du Loup - Paramètres"

[node name="CoordinationCheckBox" type="CheckBox" parent="MenuPrincipal/CanvasLayer/VBoxContainer"]
layout_mode = 2
text = "Activer coordination entre loups"

[node name="ReproductionCheckBox" type="CheckBox" parent="MenuPrincipal/CanvasLayer/VBoxContainer"]
layout_mode = 2
text = "Activer reproduction"

[node name="StartButton" type="Button" parent="MenuPrincipal/CanvasLayer/VBoxContainer"]
layout_mode = 2
text = "Démarrer la simulation"

[node name="CanvasModulate" type="CanvasModulate" parent="MenuPrincipal/CanvasLayer"]
color = Color(0.9897533, 0.89008355, 0, 1)

[connection signal="pressed" from="Button" to="." method="_on_button_pressed"]
